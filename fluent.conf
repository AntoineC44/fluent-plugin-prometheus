<source>
  @type tcp
  format json
  bind 0.0.0.0
  port 5170
  tag test
</source>
<match test>
  @type prometheus
  <metric>
    name test_histo
    type histogram
    desc The total number of foo in message.
    key test
    <labels>
      aze "$.aze"
    </labels>
    <initlabels>
      aze "test"
    </initlabels>
  </metric>
  <metric>
    name test_histo2
    type histogram
    desc The total number of foo in message.
    buckets 0, 1, 10, 1000
    key test
    <labels>
      aze "$.aze"
    </labels>
    <initlabels>
      aze "test"
    </initlabels>
    <initlabels>
      aze "eza"
    </initlabels>
  </metric>
  <metric>
    name test_counter_
    type counter
    desc The total number of foo in message.
    <labels>
      aze "$.aze"
    </labels>
    <initlabels>
      aze "test"
    </initlabels>
    <initlabels>
      aze "eza"
    </initlabels>
  </metric>
  <metric>
    name test_counter__
    type counter
    desc The total number of foo in message.
    <initlabels>
    </initlabels>
    <initlabels>
    </initlabels>
  </metric>
  <metric>
    name test_counter___
    type counter
    desc The total number of foo in message.
  </metric>
  <metric>
    name test_coudsq
    type counter
    desc The total number of foo in message.
    <labels>
      test blu
    </labels>
    <initlabels>
      test bla
    </initlabels>
  </metric>
</match>

<source>
  @type prometheus
</source>
